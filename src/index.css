@import "tailwindcss";

/* Apply Inter font globally */
* {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
}

/* Custom scrollbar styling for better visibility */
* {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 #f1f5f9;
}

/* Webkit browsers (Chrome, Safari, Edge) */
*::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

*::-webkit-scrollbar-track {
  background: #f1f5f9;
}

*::-webkit-scrollbar-thumb {
  background-color: #cbd5e1;
  border-radius: 6px;
  border: 2px solid #f1f5f9;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: #94a3b8;
}

/* Accessibility: Visible focus rings for keyboard navigation */
/* Palestinian flag green focus ring for all interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[role="button"]:focus-visible,
[tabindex]:not([tabindex="-1"]):focus-visible {
  outline: 2px solid #009639;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Focus visible for custom components */
.focus-ring:focus-visible {
  outline: 2px solid #009639;
  outline-offset: 2px;
}

/* Performance: will-change hints for frequently animated elements */
/* These tell the browser to optimize rendering for elements that will animate */
button:hover,
button:active {
  will-change: transform;
}

/* Leaflet map containers - optimize for panning/zooming */
.leaflet-container {
  will-change: transform, opacity;
  transform: translateZ(0); /* Force GPU acceleration */
}

/* Dark mode support for Leaflet popups */
[data-theme="dark"] .leaflet-popup-content-wrapper {
  @apply bg-gray-800 text-gray-100;
}

[data-theme="dark"] .leaflet-popup-tip {
  @apply bg-gray-800;
}

/* Optimize SVG timeline rendering */
svg {
  transform: translateZ(0); /* Force GPU acceleration */
}

/* Modal transitions */
[role="dialog"] {
  will-change: opacity, transform;
}

/* Smooth scrolling for better UX */
html {
  scroll-behavior: smooth;
}

/* Custom darker shadow for main components (2x darker than shadow-xl) */
.shadow-2xl-dark {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 8px 10px -6px rgba(0, 0, 0, 0.5);
}

/* Timeline marker animation - smooth transition when destroyed */
.leaflet-interactive {
  transition: r 1000ms ease-out, fill 1000ms ease-out, fill-opacity 1000ms ease-out;
}

/* Respect user preferences for reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Keep essential animations but dramatically reduce */
  button:hover,
  button:active {
    will-change: auto;
  }

  /* Disable marker transitions for reduced motion */
  .leaflet-interactive {
    transition: none !important;
  }
}
